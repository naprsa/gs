{"version":3,"sources":["style.module.scss","reportWebVitals.js","index.js","main-page.js"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","path","component","uid","match","params","React","useState","error","setError","pin","setPin","inputProps","inputStyle","height","width","border","outlineColor","borderRadius","textAlign","outline","fontWeight","fontSize","margin","openModal","setOpenModal","loading","setLoading","useEffect","getInstall","apiUrl","fetch","res","ok","Error","json","data","code","setTimeout","window","location","href","url","catch","err","className","style","green","install","Modal","aria-labelledby","aria-describedby","modal","open","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","onSubmit","event","preventDefault","fade","mainFade","inputs","name","type","fields","value","onChange","e","inputMode","buttons","onClick","disabled","length","ldsRoller","exact","document","getElementById"],"mappings":"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","file":"static/js/main.f933db65.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"green\":\"style_green__3cjvj\",\"install\":\"style_install__3Wq7J\",\"modal\":\"style_modal__34rvM\",\"fade\":\"style_fade__2OCnp\",\"mainFade\":\"style_mainFade__1Y-BC\",\"inputs\":\"style_inputs__3CkSI\",\"buttons\":\"style_buttons__ah1PJ\",\"ldsRoller\":\"style_ldsRoller__1rV9X\",\"downloadBtn\":\"style_downloadBtn__gB6j0\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport MainPage from \"./main-page\";\nimport {BrowserRouter, Switch, Route} from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename='/export'>\n      <Switch>\n        <Route path=\"/:uid\" component={MainPage} exact={true}/>\n      </Switch>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import React, {useEffect} from \"react\";\r\nimport style from './style.module.scss'\r\nimport {Backdrop, Fade, Modal} from \"@material-ui/core\";\r\nimport ReactCodeInput from \"react-code-input\";\r\n\r\nexport default function MainPage({match: {params:{uid}}}) {\r\n  const [error, setError] = React.useState(false);\r\n  const [pin, setPin] = React.useState(\"\");\r\n\r\n  const inputProps = {\r\n    inputStyle: {\r\n      height: 39,\r\n      width: 35,\r\n      border: !error ? \"2px solid #b5b5b5\" : \"2px solid #E73C3D\",\r\n      outlineColor: !error ? \"#999898\" : \"#E73C3D\",\r\n      borderRadius: 5,\r\n      textAlign: \"center\",\r\n      outline: \"none\",\r\n      fontWeight: \"600\",\r\n      fontSize: \"23px\",\r\n      margin: \"0 1px\"\r\n    },\r\n  }\r\n\r\n  const [openModal, setOpenModal] = React.useState(true);\r\n  const [loading, setLoading] = React.useState(false)\r\n\r\n  useEffect(() => {\r\n    setError(false)\r\n  }, [pin])\r\n\r\n  const buttonPlay = (event) => {\r\n    event.preventDefault();\r\n    setOpenModal(false)\r\n    setLoading(true)\r\n    getInstall()\r\n  }\r\n\r\n  const getInstall = () => {\r\n    const apiUrl = `https://giftsolitaire.com/api/v1/print/${uid}/?pin=${pin}`;\r\n    fetch(apiUrl)\r\n      .then(res => {\r\n        if (!res.ok) throw new Error('asdasdasd')\r\n        return res.json()\r\n      })\r\n      .then((data) => {\r\n        if (data?.pin) {\r\n          setError(true)\r\n          setOpenModal(true)\r\n        } else if (data?.code === \"PENDING\") {\r\n          setError(false)\r\n          setOpenModal(false)\r\n          setLoading(true)\r\n          setTimeout(getInstall, 2000)\r\n        } else if (data?.code === \"SUCCESS\") {\r\n          setLoading(false)\r\n          setError(false)\r\n          setOpenModal(false)\r\n          window.location.href = data.url\r\n        }\r\n      }).catch(err => {\r\n      setError(true)\r\n      setLoading(false)\r\n      setOpenModal(true)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className={style.green}>\r\n      <div className={style.install}>\r\n\r\n        <Modal\r\n          aria-labelledby=\"spring-modal-title\"\r\n          aria-describedby=\"spring-modal-description\"\r\n          className={style.modal}\r\n          open={openModal}\r\n          closeAfterTransition\r\n          BackdropComponent={Backdrop}\r\n          BackdropProps={{\r\n            timeout: 500,\r\n          }}\r\n        >\r\n          <Fade in={openModal}>\r\n            <form onSubmit={buttonPlay}>\r\n              <div className={style.fade}>\r\n                <div className={style.mainFade}>\r\n                  <h2>Enter PIN-code</h2>\r\n                  {/*<ReactCodeInput type='number' fields={4} className={style.inputs}/>*/}\r\n                  <div className={style.inputs}>\r\n                    <ReactCodeInput name=\"PIN-fields\" type='number' fields={4} value={pin}\r\n                                    onChange={e => setPin(e)}\r\n                                    inputMode={\"numeric\"}\r\n                                    {...inputProps}\r\n                    />\r\n                  </div>\r\n                  <p>If you do not know the PIN, then check\r\n                    with the person who sent you the link</p>\r\n                </div>\r\n                <div className={style.buttons}>\r\n                  <button onClick={() => setOpenModal(false)}>Cancel</button>\r\n                  <button disabled={error || pin.length !== 4} type='submit'>Generate</button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </Fade>\r\n        </Modal>\r\n        {loading && <div className={style.ldsRoller}>\r\n          <div/>\r\n          <div/>\r\n          <div/>\r\n          <div/>\r\n          <div/>\r\n          <div/>\r\n          <div/>\r\n          <div/>\r\n        </div>}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"sourceRoot":""}