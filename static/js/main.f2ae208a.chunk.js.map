{"version":3,"sources":["reportWebVitals.js","main-page.js","index.js","style.module.scss"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","MainPage","React","useState","error","setError","pin","setPin","pathname","window","location","inputProps","inputStyle","height","width","border","outlineColor","borderRadius","textAlign","outline","fontWeight","fontSize","margin","openModal","setOpenModal","loading","setLoading","useEffect","getInstall","apiUrl","fetch","res","ok","Error","json","data","code","setTimeout","href","url","catch","err","className","style","green","install","Modal","aria-labelledby","aria-describedby","modal","open","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","onSubmit","event","preventDefault","fade","mainFade","inputs","name","type","fields","value","onChange","e","inputMode","buttons","onClick","disabled","length","ldsRoller","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"6MAYeA,G,MAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,Q,gFCFC,SAASQ,IACtB,MAA0BC,IAAMC,UAAS,GAAzC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAsBH,IAAMC,SAAS,IAArC,mBAAOG,EAAP,KAAYC,EAAZ,KACOC,EAAYC,OAAOC,SAAnBF,SAEDG,EAAa,CACjBC,WAAY,CACVC,OAAQ,GACRC,MAAO,GACPC,OAASX,EAA8B,oBAAtB,oBACjBY,aAAeZ,EAAoB,UAAZ,UACvBa,aAAc,EACdC,UAAW,SACXC,QAAS,OACTC,WAAY,MACZC,SAAU,OACVC,OAAQ,UAIZ,EAAkCpB,IAAMC,UAAS,GAAjD,mBAAOoB,EAAP,KAAkBC,EAAlB,KACA,EAA8BtB,IAAMC,UAAS,GAA7C,mBAAOsB,EAAP,KAAgBC,EAAhB,KAEAC,qBAAU,WACRtB,GAAS,KACR,CAACC,IAEJ,IAOMsB,EAAa,SAAbA,IACJ,IAAMC,EAAM,gDAA4CrB,EAA5C,iBAA6DF,GACzEwB,MAAMD,GACHlC,MAAK,SAAAoC,GACJ,IAAKA,EAAIC,GAAI,MAAM,IAAIC,MAAM,aAC7B,OAAOF,EAAIG,UAEZvC,MAAK,SAACwC,IACL,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAM7B,MACRD,GAAS,GACTmB,GAAa,IACW,aAAX,OAAJW,QAAI,IAAJA,OAAA,EAAAA,EAAMC,OACf/B,GAAS,GACTmB,GAAa,GACbE,GAAW,GACXW,WAAWT,EAAY,MACC,aAAX,OAAJO,QAAI,IAAJA,OAAA,EAAAA,EAAMC,QACfV,GAAW,GACXrB,GAAS,GACTmB,GAAa,GACbf,OAAOC,SAAS4B,KAAOH,EAAKI,QAE7BC,OAAM,SAAAC,GACTpC,GAAS,GACTqB,GAAW,GACXF,GAAa,OAIjB,OACE,qBAAKkB,UAAWC,IAAMC,MAAtB,SACE,sBAAKF,UAAWC,IAAME,QAAtB,UAEE,cAACC,EAAA,EAAD,CACEC,kBAAgB,qBAChBC,mBAAiB,2BACjBN,UAAWC,IAAMM,MACjBC,KAAM3B,EACN4B,sBAAoB,EACpBC,kBAAmBC,IACnBC,cAAe,CACbC,QAAS,KARb,SAWE,cAACC,EAAA,EAAD,CAAMC,GAAIlC,EAAV,SACE,sBAAMmC,SApDG,SAACC,GAClBA,EAAMC,iBACNpC,GAAa,GACbE,GAAW,GACXE,KAgDQ,SACE,sBAAKc,UAAWC,IAAMkB,KAAtB,UACE,sBAAKnB,UAAWC,IAAMmB,SAAtB,UACE,gDAEA,qBAAKpB,UAAWC,IAAMoB,OAAtB,SACE,cAAC,IAAD,aAAgBC,KAAK,aAAaC,KAAK,SAASC,OAAQ,EAAGC,MAAO7D,EAClD8D,SAAU,SAAAC,GAAC,OAAI9D,EAAO8D,IACtBC,UAAW,WACP3D,MAGtB,gHAGF,sBAAK+B,UAAWC,IAAM4B,QAAtB,UACE,wBAAQC,QAAS,kBAAMhD,GAAa,IAApC,oBACA,wBAAQiD,SAAUrE,GAAwB,IAAfE,EAAIoE,OAAcT,KAAK,SAAlD,kCAMTxC,GAAW,sBAAKiB,UAAWC,IAAMgC,UAAtB,UACV,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,gCC7GVC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC7E,EAAD,MAEF8E,SAASC,eAAe,SAM1BxF,K,kBCfAyF,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,QAAU,uBAAuB,MAAQ,qBAAqB,KAAO,oBAAoB,SAAW,wBAAwB,OAAS,sBAAsB,QAAU,uBAAuB,UAAY,yBAAyB,YAAc,8B","file":"static/js/main.f2ae208a.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, {useEffect} from \"react\";\r\nimport style from './style.module.scss'\r\nimport {Backdrop, Fade, Modal} from \"@material-ui/core\";\r\nimport ReactCodeInput from \"react-code-input\";\r\n\r\nexport default function MainPage() {\r\n  const [error, setError] = React.useState(false);\r\n  const [pin, setPin] = React.useState(\"\");\r\n  const {pathname} = window.location\r\n\r\n  const inputProps = {\r\n    inputStyle: {\r\n      height: 39,\r\n      width: 35,\r\n      border: !error ? \"2px solid #b5b5b5\" : \"2px solid #E73C3D\",\r\n      outlineColor: !error ? \"#999898\" : \"#E73C3D\",\r\n      borderRadius: 5,\r\n      textAlign: \"center\",\r\n      outline: \"none\",\r\n      fontWeight: \"600\",\r\n      fontSize: \"23px\",\r\n      margin: \"0 1px\"\r\n    },\r\n  }\r\n\r\n  const [openModal, setOpenModal] = React.useState(true);\r\n  const [loading, setLoading] = React.useState(false)\r\n\r\n  useEffect(() => {\r\n    setError(false)\r\n  }, [pin])\r\n\r\n  const buttonPlay = (event) => {\r\n    event.preventDefault();\r\n    setOpenModal(false)\r\n    setLoading(true)\r\n    getInstall()\r\n  }\r\n\r\n  const getInstall = () => {\r\n    const apiUrl = `https://giftsolitaire.com/api/v1/print${pathname}/?pin=${pin}`;\r\n    fetch(apiUrl)\r\n      .then(res => {\r\n        if (!res.ok) throw new Error('asdasdasd')\r\n        return res.json()\r\n      })\r\n      .then((data) => {\r\n        if (data?.pin) {\r\n          setError(true)\r\n          setOpenModal(true)\r\n        } else if (data?.code === \"PENDING\") {\r\n          setError(false)\r\n          setOpenModal(false)\r\n          setLoading(true)\r\n          setTimeout(getInstall, 2000)\r\n        } else if (data?.code === \"SUCCESS\") {\r\n          setLoading(false)\r\n          setError(false)\r\n          setOpenModal(false)\r\n          window.location.href = data.url\r\n        }\r\n      }).catch(err => {\r\n      setError(true)\r\n      setLoading(false)\r\n      setOpenModal(true)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className={style.green}>\r\n      <div className={style.install}>\r\n\r\n        <Modal\r\n          aria-labelledby=\"spring-modal-title\"\r\n          aria-describedby=\"spring-modal-description\"\r\n          className={style.modal}\r\n          open={openModal}\r\n          closeAfterTransition\r\n          BackdropComponent={Backdrop}\r\n          BackdropProps={{\r\n            timeout: 500,\r\n          }}\r\n        >\r\n          <Fade in={openModal}>\r\n            <form onSubmit={buttonPlay}>\r\n              <div className={style.fade}>\r\n                <div className={style.mainFade}>\r\n                  <h2>Enter PIN-code</h2>\r\n                  {/*<ReactCodeInput type='number' fields={4} className={style.inputs}/>*/}\r\n                  <div className={style.inputs}>\r\n                    <ReactCodeInput name=\"PIN-fields\" type='number' fields={4} value={pin}\r\n                                    onChange={e => setPin(e)}\r\n                                    inputMode={\"numeric\"}\r\n                                    {...inputProps}\r\n                    />\r\n                  </div>\r\n                  <p>If you do not know the PIN, then check\r\n                    with the person who sent you the link</p>\r\n                </div>\r\n                <div className={style.buttons}>\r\n                  <button onClick={() => setOpenModal(false)}>Cancel</button>\r\n                  <button disabled={error || pin.length !== 4} type='submit'>Generate</button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </Fade>\r\n        </Modal>\r\n        {loading && <div className={style.ldsRoller}>\r\n          <div/>\r\n          <div/>\r\n          <div/>\r\n          <div/>\r\n          <div/>\r\n          <div/>\r\n          <div/>\r\n          <div/>\r\n        </div>}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport MainPage from \"./main-page\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <MainPage/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"green\":\"style_green__3cjvj\",\"install\":\"style_install__3Wq7J\",\"modal\":\"style_modal__34rvM\",\"fade\":\"style_fade__2OCnp\",\"mainFade\":\"style_mainFade__1Y-BC\",\"inputs\":\"style_inputs__3CkSI\",\"buttons\":\"style_buttons__ah1PJ\",\"ldsRoller\":\"style_ldsRoller__1rV9X\",\"downloadBtn\":\"style_downloadBtn__gB6j0\"};"],"sourceRoot":""}